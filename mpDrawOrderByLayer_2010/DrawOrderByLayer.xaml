<controls:MetroWindow x:Class="mpDrawOrderByLayer.DrawOrderByLayer"
                      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                      mc:Ignorable="d" xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                      xmlns:controls="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
                      SizeToContent="WidthAndHeight" ResizeMode="NoResize" ShowTitleBar="False"
                      ShowMaxRestoreButton="False" ShowMinButton="False"
                      WindowStartupLocation="CenterScreen" Loaded="Window_Loaded"
                      MouseEnter="DrawOrderByLayer_OnMouseEnter" MouseLeave="DrawOrderByLayer_OnMouseLeave"
                      MouseLeftButtonDown="DrawOrderByLayer_OnMouseLeftButtonDown"
                      >
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/ModPlusAPI;component/Windows/WinResources/Styles.xaml"></ResourceDictionary>
            </ResourceDictionary.MergedDictionaries>
            <Canvas x:Key="appbar_layer_up" Width="76.0106" Height="76.0106" Clip="F1 M 0,0L 76.0106,0L 76.0106,76.0106L 0,76.0106L 0,0">
                <Path Width="38.0053" Height="40.3782" Canvas.Left="19.0027" Canvas.Top="18.2133" Stretch="Fill" Fill="Black" Data="F1 M 38.0053,58.5915L 19.0027,49.0902L 38.0053,39.5889L 57.008,49.0902L 38.0053,58.5915 Z M 41.1733,36.4218L 34.84,36.4218L 34.84,27.3176L 28.5066,34.0468L 28.5066,28.1091L 38.0066,18.2133L 47.5066,28.1091L 47.5066,34.0468L 41.1733,27.3176L 41.1733,36.4218 Z "/>
            </Canvas>
            <Canvas x:Key="appbar_layer_down" Width="76.0106" Height="76.0106" Clip="F1 M 0,0L 76.0106,0L 76.0106,76.0106L 0,76.0106L 0,0">
                <Path Width="38.0053" Height="40.3782" Canvas.Left="19.0026" Canvas.Top="20.5862" Stretch="Fill" Fill="Black" Data="F1 M 38.0053,20.5862L 57.0079,30.0875L 38.0053,39.5889L 19.0026,30.0875L 38.0053,20.5862 Z M 34.8373,42.756L 41.1706,42.756L 41.1706,51.8601L 47.504,45.131L 47.504,51.0686L 38.004,60.9644L 28.504,51.0686L 28.504,45.131L 34.8373,51.8601L 34.8373,42.756 Z "/>
            </Canvas>
            <Canvas x:Key="appbar_arrow_down_up" Width="76" Height="76" Clip="F1 M 0,0L 76,0L 76,76L 0,76L 0,0">
                <Path Width="44" Height="46.5" Canvas.Left="16" Canvas.Top="14.75" Stretch="Fill" Fill="Black" Data="F1 M 52,54L 44,54L 44,29.25L 35.9999,37.25L 35.9999,26.75L 48,14.75L 59.9999,26.75L 59.9999,37.25L 52,29.25L 52,54 Z M 23.9999,22L 31.9999,22L 31.9999,46.75L 40,38.75L 40,49.25L 27.9999,61.25L 16,49.25L 16,38.75L 23.9999,46.75L 23.9999,22 Z "/>
            </Canvas>
            <Canvas x:Key="appbar_list_check" Width="76" Height="76" Clip="F1 M 0,0L 76,0L 76,76L 0,76L 0,0">
                <Path Width="48.5597" Height="28.5" Canvas.Left="14.7735" Canvas.Top="23.75" Stretch="Fill" Fill="Black" Data="F1 M 30.4792,27.3126L 56.6041,27.3126C 57.9158,27.3126 58.9791,27.9801 58.9791,29.2918C 58.9791,30.6034 57.9158,31.2709 56.6041,31.2709L 30.4792,31.2709C 29.1675,31.2709 28.1042,30.6034 28.1042,29.2917C 28.1042,27.98 29.1675,27.3126 30.4792,27.3126 Z M 30.4791,36.8125L 60.9582,36.8126C 62.2699,36.8126 63.3332,37.4801 63.3332,38.7918C 63.3332,40.1035 61.8827,40.6887 60.571,40.6887L 30.092,40.6886C 28.7803,40.6886 28.1041,40.1034 28.1041,38.7917C 28.1041,37.48 29.1675,36.8125 30.4791,36.8125 Z M 30.4792,46.3125L 53.0415,46.3126C 54.3532,46.3126 55.4165,46.9801 55.4165,48.2917C 55.4165,49.6034 54.3532,50.2709 53.0415,50.2709L 30.4792,50.2709C 29.1675,50.2709 28.1042,49.6034 28.1042,48.2917C 28.1042,46.98 29.1675,46.3125 30.4792,46.3125 Z M 16.6122,46.3508L 19.3192,48.7386L 24.1458,42.75L 26.3037,45.1378L 20.2769,52.25L 18.6042,52.25L 14.7735,48.4866L 14.7735,46.3508L 16.6122,46.3508 Z M 16.8293,36.8508L 19.5363,39.2386L 24.3629,33.25L 26.5208,35.6378L 20.494,42.75L 18.8213,42.75L 14.9906,38.9866L 14.9906,36.8508L 16.8293,36.8508 Z M 16.8293,27.3508L 19.5363,29.7385L 24.3629,23.75L 26.5208,26.1378L 20.494,33.25L 18.8213,33.25L 14.9906,29.4866L 14.9906,27.3508L 16.8293,27.3508 Z "/>
            </Canvas>
            <Canvas x:Key="appbar_checkmark_cross" Width="76" Height="76" Clip="F1 M 0,0L 76,0L 76,76L 0,76L 0,0">
                <Path Width="32" Height="32" Canvas.Left="22" Canvas.Top="22" Stretch="Fill" Fill="Black" Data="F1 M 22,54L 22,22L 54,22L 54,54L 22,54 Z M 26,26L 26,50L 50,50L 50,26L 26,26 Z M 30.755,27.65L 38,34.895L 45.2449,27.6501L 48.3499,30.7551L 41.105,38L 48.35,45.245L 45.245,48.35L 38,41.105L 30.755,48.35L 27.65,45.245L 34.895,38L 27.65,30.755L 30.755,27.65 Z "/>
            </Canvas>
            <Canvas x:Key="appbar_refresh" Width="76" Height="76" Clip="F1 M 0,0L 76,0L 76,76L 0,76L 0,0">
                <Path Width="34.8333" Height="41.1667" Canvas.Left="20.5833" Canvas.Top="17.4167" Stretch="Fill" Fill="Black" Data="F1 M 38,20.5833C 42.9908,20.5833 47.4912,22.6825 50.6667,26.046L 50.6667,17.4167L 55.4166,22.1667L 55.4167,34.8333L 42.75,34.8333L 38,30.0833L 46.8512,30.0833C 44.6768,27.6539 41.517,26.125 38,26.125C 31.9785,26.125 27.0037,30.6068 26.2296,36.4167L 20.6543,36.4167C 21.4543,27.5397 28.9148,20.5833 38,20.5833 Z M 38,49.875C 44.0215,49.875 48.9963,45.3932 49.7703,39.5833L 55.3457,39.5833C 54.5457,48.4603 47.0852,55.4167 38,55.4167C 33.0092,55.4167 28.5088,53.3175 25.3333,49.954L 25.3333,58.5833L 20.5833,53.8333L 20.5833,41.1667L 33.25,41.1667L 38,45.9167L 29.1487,45.9167C 31.3231,48.3461 34.483,49.875 38,49.875 Z "/>
            </Canvas>
        </ResourceDictionary>
    </Window.Resources>
    <Grid Margin="5">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
        </Grid.RowDefinitions>
        <Label FontSize="16" Grid.Row="0">ПОРЯДОК ПО СЛОЮ</Label>
        <Grid Row="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"></ColumnDefinition>
                <ColumnDefinition Width="Auto"></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <controls:ProgressRing Name="PrWait" IsActive="True" Panel.ZIndex="1"
                               Visibility="Hidden"></controls:ProgressRing>
            <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Vertical">
                <Button Margin="2" Name="BtLayerUp" Padding="2" Width="30" Height="30"
                        Click="BtLayerUp_Click"
                        ToolTip="Переместить выбранную позицию вверх">
                    <Rectangle Fill="{DynamicResource BlackBrush}"
                               Width="20" Height="20">
                        <Rectangle.OpacityMask>
                            <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_layer_up}"></VisualBrush>
                        </Rectangle.OpacityMask>
                    </Rectangle>
                </Button>
                <Button Margin="2" Name="BtLayerDown" Padding="2" Width="30" Height="30"
                         Click="BtLayerDown_Click"
                        ToolTip="Переместить выбранную позицию вниз">
                    <Rectangle Fill="{DynamicResource BlackBrush}"
                               Width="20" Height="20">
                        <Rectangle.OpacityMask>
                            <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_layer_down}"></VisualBrush>
                        </Rectangle.OpacityMask>
                    </Rectangle>
                </Button>
                <Button Margin="2" Name="BtReverse" Padding="2" Width="30" Height="30"
                         Click="BtReverse_Click"
                        ToolTip="Реверс списка">
                    <Rectangle Fill="{DynamicResource BlackBrush}"
                               Width="20" Height="20">
                        <Rectangle.OpacityMask>
                            <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_arrow_down_up}"></VisualBrush>
                        </Rectangle.OpacityMask>
                    </Rectangle>
                </Button>
                <Button Margin="2" Name="BtSelectAll" Padding="2" Width="30" Height="30"
                         Click="BtSelectAll_Click"
                        ToolTip="Выбрать все">
                    <Rectangle Fill="{DynamicResource BlackBrush}"
                               Width="20" Height="18">
                        <Rectangle.OpacityMask>
                            <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_list_check}"></VisualBrush>
                        </Rectangle.OpacityMask>
                    </Rectangle>
                </Button>
                <Button Margin="2" Name="BtDeSelectAll" Padding="2" Width="30" Height="30"
                         Click="BtDeSelectAll_Click"
                        ToolTip="Снять выбор">
                    <Rectangle Fill="{DynamicResource BlackBrush}"
                               Width="20" Height="20">
                        <Rectangle.OpacityMask>
                            <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_checkmark_cross}"></VisualBrush>
                        </Rectangle.OpacityMask>
                    </Rectangle>
                </Button>
                <Button Margin="2" Name="BtInverse" Padding="2" Width="30" Height="30"
                         Click="BtInverse_Click"
                        ToolTip="Инверсия выбора">
                    <Rectangle Fill="{DynamicResource BlackBrush}"
                               Width="18" Height="20">
                        <Rectangle.OpacityMask>
                            <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_refresh}"></VisualBrush>
                        </Rectangle.OpacityMask>
                    </Rectangle>
                </Button>
            </StackPanel>
            <Border Grid.Row="0" Grid.Column="0" BorderThickness="1"
                    BorderBrush="{DynamicResource AccentColorBrush}" Margin="2" >
                <ListBox Width="200" Height="250" Name="LbLayers" HorizontalContentAlignment="Left"></ListBox>
            </Border>
            <CheckBox Grid.Row="1" Margin="2" Grid.Column="0"
                      Checked="ChkAutoMove_Checked" Unchecked="ChkAutoMove_Unchecked"
                      Name="ChkAutoMove" Content="Режим &quot;Авто&quot;"></CheckBox>
            <Grid Grid.Row="2" Name="GridAutoMove" Grid.Column="0" Grid.ColumnSpan="2">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"></RowDefinition>
                    <RowDefinition Height="Auto"></RowDefinition>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                </Grid.ColumnDefinitions>
                <CheckBox Grid.Column="0" Grid.Row="0" Margin="2" HorizontalAlignment="Center"
                      VerticalAlignment="Center" Name="ChkUpLayer"
                      Checked="ChkUpLayer_Checked" Unchecked="ChkUpLayer_Unchecked"></CheckBox>
                <TextBlock Grid.Column="1" Grid.Row="0" Margin="2" VerticalAlignment="Center"
                       Text="На передний план" Name="TbUpLayer"></TextBlock>
                <ComboBox Grid.Column="2" Grid.Row="0" Margin="2" MinWidth="100"
                      Name="CbUpLayers"></ComboBox>
                <CheckBox Grid.Column="0" Grid.Row="1" Margin="2" HorizontalAlignment="Center"
                      VerticalAlignment="Center" Name="ChkDownLayer"
                      Checked="ChkDownLayer_Checked" Unchecked="ChkDownLayer_Unchecked"></CheckBox>
                <TextBlock Grid.Column="1" Grid.Row="1" Margin="2" VerticalAlignment="Center"
                       Text="На задний план" Name="TbDownLayer"></TextBlock>
                <ComboBox Grid.Column="2" Grid.Row="1" Margin="2" MinWidth="100"
                      Name="CbDownLayers"></ComboBox>
            </Grid>
            <Grid Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="3">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"></ColumnDefinition>
                    <ColumnDefinition Width="*"></ColumnDefinition>
                </Grid.ColumnDefinitions>
                <Button Grid.Column="0" Margin="2" Grid.ColumnSpan="2"
                        
                        MinWidth="75" HorizontalAlignment="Center"
                        Content="Применить"
                        Name="BtAccept" Click="BtAccept_Click"></Button>
            </Grid>
        </Grid>
    </Grid>
</controls:MetroWindow>
